<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
</html>

<script>
  function bar() {
    console.log(liuYong)
  }

  function foo() {
    var liuYong = 'w'
    bar()
  }

  var liuYong = 'ee'
  foo()

  //词法作用域：是代码编译阶段就决定好的，和函数是怎么调用的没有关系
  //当在当前作用域找不到所调用的变量会向外去寻找这个就是作用域链,顶端和原型链一样是null

  //细细谈来的：首先要知道几个概念,var具有变量提升的问题,函数是一等公民,只有全局,函数,eval会创建执行上下文,引擎读取js代码是一段一段来的
  //js引擎在执行时会先去做一个记录的操作,先记录在去赋值,记录是记录在当前的一个词法环境内

  /* 
    五种会生成词法环境的情况
    Global code（全局）:通俗点讲就是源文件代码，就是一个词法环境
    函数代码 ：一个函数块内自己是一个新的词法环境
    eval：进入eval调用的代码有时会创建一个新的词法环境
    with结构：一个with结构块内也是自己一个词法环境
    catch结构：一个catch结构快内也是自己一个词环境
  
  */

  //词法环境是一个嵌套的,词法环境是在进入上述几种代码结构之前之前创建的,全局的地位类似老板，词法环境就是公司,肯定是先有公司在有的老板啊
  //之后从上面其实已经可以知道词法环境的组成部分之一 环境记录：记录变量的地方。
  //他还有一个部分组成是 outer:outer 是个指向，包含本词法环境的外部词法环境 利用这个实现的作用域链具体可以联系上述代码理解

  //可以这样理解这个outer是个电话号码,你这个bug搞不定，打电话给老大,老大搞不定继续往上报,报到最上面都没回话那不就“无疾而终”吗 就是null啊！！
</script>
